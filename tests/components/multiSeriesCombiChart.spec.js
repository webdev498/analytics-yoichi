import {
  getXindex,
  getYindex,
  generateCategoryArray,
  generateDataAndSeriesArrayForDynamicSeriesNames,
  generateChartDataSetForDynamicSeries,
  generateChartDataSetForFixedSeries,
  generateDataArray
} from 'components/MultiSeriesCombiChart';

describe('MultiSeriesCombiChart Component: ', function() {
  it('getXindex should return x index.', function() {
    const chartDataColumn = 'date',
      columns = [
        {
          'name': 'date',
          'displayName': 'date',
          'columnType': 'DIMENSION',
          'dataType': 'DATE',
          'sortable': true
        },
        {
          'name': 'data.rank_alert.score',
          'displayName': 'data.rank_alert.score',
          'columnType': 'DIMENSION',
          'dataType': 'TEXT',
          'sortable': true,
          'ranges': [
            {
              'alias': 'low',
              'min': 1,
              'max': 35
            },
            {
              'alias': 'medium',
              'min': 35,
              'max': 65
            },
            {
              'alias': 'high',
              'min': 65
            }
          ]
        },
        {
          'name': 'count',
          'displayName': 'count',
          'columnType': 'MEASURE',
          'dataType': 'NUMBER',
          'sortable': true
        }
      ],
      x = 0;
    expect(getXindex(chartDataColumn, columns)).to.deep.equal(x);
  });

  it('getYindex should return y index.', function() {
    const chartData = {
        'reportId': 'taf_alert_priority_time',
        'columns': [
          'data.rank_alert.score',
          'count'
        ],
        'seriesOptions': {
          'drawanchors': '1',
          'lineThickness': '0',
          'anchorradius': '5',
          'renderas': 'Line',
          'anchorbgcolor': [
            '#90d0a4',
            '#fcc875',
            '#f69275'
          ],
          'anchorBorderColor': [
            '#90d0a4',
            '#fcc875',
            '#f69275'
          ],
          'anchorsides': [
            '0',
            '0',
            '0'
          ]
        },
        'axis': 'y'
      },
      columns = [
        {
          'name': 'date',
          'displayName': 'date',
          'columnType': 'DIMENSION',
          'dataType': 'DATE',
          'sortable': true
        },
        {
          'name': 'data.rank_alert.score',
          'displayName': 'data.rank_alert.score',
          'columnType': 'DIMENSION',
          'dataType': 'TEXT',
          'sortable': true,
          'ranges': [
            {
              'alias': 'low',
              'min': 1,
              'max': 35
            },
            {
              'alias': 'medium',
              'min': 35,
              'max': 65
            },
            {
              'alias': 'high',
              'min': 65
            }
          ]
        },
        {
          'name': 'count',
          'displayName': 'count',
          'columnType': 'MEASURE',
          'dataType': 'NUMBER',
          'sortable': true
        }
      ],
      combinedResult = false,
      y = {'y': 2, 'y2': '', 'seriesIndex': 1};
    expect(getYindex(chartData, columns, combinedResult)).to.deep.equal(y);
  });

  it('generateCategoryArray should return category array.', function() {
    const rows = [
      [
        '2016-07-20T06:50:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T06:50:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T06:50:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T06:55:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T06:55:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T06:55:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:00:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:00:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:00:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:05:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:05:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:05:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:10:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:10:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:10:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:15:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:15:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:15:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:20:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:20:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:20:00.000',
        'high',
        1
      ],
      [
        '2016-07-20T07:25:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:25:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:25:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:30:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:30:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:30:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:35:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:35:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:35:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:40:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:40:00.000',
        'medium',
        0
      ],
      [
        '2016-07-20T07:40:00.000',
        'high',
        0
      ],
      [
        '2016-07-20T07:45:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:45:00.000',
        'medium',
        2
      ],
      [
        '2016-07-20T07:45:00.000',
        'high',
        3
      ],
      [
        '2016-07-20T07:50:00.000',
        'low',
        0
      ],
      [
        '2016-07-20T07:50:00.000',
        'medium',
        2
      ],
      [
        '2016-07-20T07:50:00.000',
        'high',
        0
      ]],
      index = 0,
      dateDisplayFormat = 'HH:mm',
      category = [
        {
          'label': '12:20',
          'toolText': '20 Jul 2016 12:20'
        },
        {
          'label': '12:25',
          'toolText': '20 Jul 2016 12:25'
        },
        {
          'label': '12:30',
          'toolText': '20 Jul 2016 12:30'
        },
        {
          'label': '12:35',
          'toolText': '20 Jul 2016 12:35'
        },
        {
          'label': '12:40',
          'toolText': '20 Jul 2016 12:40'
        },
        {
          'label': '12:45',
          'toolText': '20 Jul 2016 12:45'
        },
        {
          'label': '12:50',
          'toolText': '20 Jul 2016 12:50'
        },
        {
          'label': '12:55',
          'toolText': '20 Jul 2016 12:55'
        },
        {
          'label': '13:00',
          'toolText': '20 Jul 2016 13:00'
        },
        {
          'label': '13:05',
          'toolText': '20 Jul 2016 13:05'
        },
        {
          'label': '13:10',
          'toolText': '20 Jul 2016 13:10'
        },
        {
          'label': '13:15',
          'toolText': '20 Jul 2016 13:15'
        },
        {
          'label': '13:20',
          'toolText': '20 Jul 2016 13:20'
        }
      ];
    expect(generateCategoryArray(rows, index, dateDisplayFormat)).to.deep.equal(category);
  });

  it('generateDataAndSeriesArrayForDynamicSeriesNames should return data and series array for dynamic series names.',
    function() {
      const rows = [
        [
          '2016-07-20T07:00:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:00:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:00:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:05:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:05:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:05:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:10:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:10:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:10:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:15:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:15:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:15:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:20:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:20:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:20:00.000',
          'high',
          1
        ],
        [
          '2016-07-20T07:25:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:25:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:25:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:30:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:30:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:30:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:35:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:35:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:35:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:40:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:40:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:40:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:45:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:45:00.000',
          'medium',
          1
        ],
        [
          '2016-07-20T07:45:00.000',
          'high',
          2
        ],
        [
          '2016-07-20T07:50:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:50:00.000',
          'medium',
          1
        ],
        [
          '2016-07-20T07:50:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T07:55:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T07:55:00.000',
          'medium',
          0
        ],
        [
          '2016-07-20T07:55:00.000',
          'high',
          0
        ],
        [
          '2016-07-20T08:00:00.000',
          'low',
          0
        ],
        [
          '2016-07-20T08:00:00.000',
          'medium',
          3
        ],
        [
          '2016-07-20T08:00:00.000',
          'high',
          1
        ]
        ],
        x = 0,
        y = 2,
        seriesIndex = 1,
        resultArray = {
          'newRawData': [
            [
              '2016-07-20T07:00:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:05:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:10:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:15:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:20:00.000',
              [
                0,
                0,
                1
              ]
            ],
            [
              '2016-07-20T07:25:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:30:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:35:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:40:00.000',
              [
                0,
                0,
                0
              ]
            ],
            [
              '2016-07-20T07:45:00.000',
              [
                0,
                1,
                2
              ]
            ],
            [
              '2016-07-20T07:50:00.000',
              [
                0,
                1,
                0
              ]
            ],
            [
              '2016-07-20T07:55:00.000',
              [
                0,
                0,
                0
              ]
            ]
          ],
          'seriesNameArray': [
            {
              'seriesname': 'low'
            },
            {
              'seriesname': 'medium'
            },
            {
              'seriesname': 'high'
            }
          ]
        };
      expect(generateDataAndSeriesArrayForDynamicSeriesNames(rows, x, y, seriesIndex)).to.deep.equal(resultArray);
    }
  );

  it('generateChartDataSetForDynamicSeries should return chart data source for dynamic series.', function() {
    const chartData = {
        'reportId': 'taf_alert_priority_time',
        'columns': [
          'data.rank_alert.score',
          'count'
        ],
        'seriesOptions': {
          'drawanchors': '1',
          'lineThickness': '0',
          'anchorradius': '5',
          'renderas': 'Line',
          'anchorbgcolor': [
            '#90d0a4',
            '#fcc875',
            '#f69275'
          ],
          'anchorBorderColor': [
            '#90d0a4',
            '#fcc875',
            '#f69275'
          ],
          'anchorsides': [
            '0',
            '0',
            '0'
          ]
        },
        'axis': 'y'
      },
      seriesNameArray = [
        {
          'seriesname': 'low'
        },
        {
          'seriesname': 'medium'
        },
        {
          'seriesname': 'high'
        }
      ],
      newRawData = [
        [
          '2016-07-20T07:05:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:10:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:15:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:20:00.000',
          [
            0,
            0,
            1
          ]
        ],
        [
          '2016-07-20T07:25:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:30:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:35:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:40:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:45:00.000',
          [
            0,
            1,
            2
          ]
        ],
        [
          '2016-07-20T07:50:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T07:55:00.000',
          [
            0,
            0,
            0
          ]
        ],
        [
          '2016-07-20T08:00:00.000',
          [
            0,
            4,
            1
          ]
        ]
      ],
      dataset = [
        {
          'seriesname': 'low',
          'data': [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {}
          ],
          'drawanchors': '1',
          'lineThickness': '0',
          'anchorradius': '5',
          'renderas': 'Line',
          'anchorbgcolor': '#90d0a4',
          'anchorBorderColor': '#90d0a4',
          'anchorsides': '0'
        },
        {
          'seriesname': 'medium',
          'data': [
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {},
            {
              'value': 1
            },
            {},
            {},
            {
              'value': 4
            }
          ],
          'drawanchors': '1',
          'lineThickness': '0',
          'anchorradius': '5',
          'renderas': 'Line',
          'anchorbgcolor': '#fcc875',
          'anchorBorderColor': '#fcc875',
          'anchorsides': '0'
        },
        {
          'seriesname': 'high',
          'data': [
            {},
            {},
            {},
            {
              'value': 1
            },
            {},
            {},
            {},
            {},
            {
              'value': 2
            },
            {},
            {},
            {
              'value': 1
            }
          ],
          'drawanchors': '1',
          'lineThickness': '0',
          'anchorradius': '5',
          'renderas': 'Line',
          'anchorbgcolor': '#f69275',
          'anchorBorderColor': '#f69275',
          'anchorsides': '0'
        }
      ];
    expect(generateChartDataSetForDynamicSeries(chartData, seriesNameArray, newRawData)).to.deep.equal(dataset);
  });

  it('generateChartDataSetForFixedSeries should return chart data set for fixed series.', function() {
    const dataset = [
      {
        'seriesname': 'Historical Connections',
        'renderas': 'Area',
        'data': [
          {},
          {
            'value': 3003.891850583173
          },
          {
            'value': 429.3254398860302
          },
          {
            'value': 279.86469945314644
          },
          {
            'value': 654.7999058236544
          },
          {
            'value': 923.3870622153348
          },
          {
            'value': 663.1875049084283
          },
          {
            'value': 247.933290759161
          },
          {
            'value': 2610.433600636748
          },
          {
            'value': 1145.8075391036082
          },
          {
            'value': 5245.541027069245
          },
          {
            'value': 795.1324313177859
          },
          {
            'value': 259.49229275645183
          },
          {
            'value': 467.19945776224245
          },
          {
            'value': 198.82886276058278
          },
          {
            'value': 154.07898407418622
          },
          {
            'value': 183.72511169316692
          },
          {
            'value': 272.87665101042757
          },
          {
            'value': 239.90188966881163
          },
          {
            'value': 412.9366375930654
          },
          {
            'value': 185.09524575201817
          },
          {
            'value': 391.7656612483199
          },
          {
            'value': 517.1836392101617
          },
          {},
          {}
        ]
      }],
      chartData = {
        'seriesname': 'Current Connections',
        'reportId': 'taf_stats_histogram',
        'columns': [
          'conn[0]'
        ],
        'renderas': 'Line',
        'axis': 'y'
      },
      rows = [
        [
          '2016-07-19T09:00:00.000',
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ]
        ],
        [
          '2016-07-19T10:00:00.000',
          [
            19210,
            3003.891850583173
          ],
          [
            1667327100,
            474249219.20987433
          ],
          [
            1669553834,
            474958637.08589804
          ],
          [
            3336880934,
            949207734.190932
          ]
        ],
        [
          '2016-07-19T11:00:00.000',
          [
            13230,
            429.3254398860302
          ],
          [
            1590651665,
            447342986.8368123
          ],
          [
            1594627856,
            450198029.83426315
          ],
          [
            3185279521,
            897527166.4162296
          ]
        ],
        [
          '2016-07-19T12:00:00.000',
          [
            14358,
            279.86469945314644
          ],
          [
            1613121555,
            449185966.02447855
          ],
          [
            1610387558,
            450219931.4509283
          ],
          [
            3223509113,
            899405471.3322483
          ]
        ],
        [
          '2016-07-19T13:00:00.000',
          [
            13115,
            654.7999058236544
          ],
          [
            1589996232,
            949734989.4224131
          ],
          [
            1590176073,
            950264041.8727775
          ],
          [
            3180172305,
            1899998795.7569008
          ]
        ],
        [
          '2016-07-19T14:00:00.000',
          [
            13325,
            923.3870622153348
          ],
          [
            1569147264,
            5140830365.943753
          ],
          [
            1574366488,
            5139672836.83124
          ],
          [
            3143513752,
            10280502966.14952
          ]
        ],
        [
          '2016-07-19T15:00:00.000',
          [
            13049,
            663.1875049084283
          ],
          [
            1567086046,
            1014131811.6353638
          ],
          [
            1568491480,
            1014759116.4323789
          ],
          [
            3135577526,
            2028890704.1104476
          ]
        ],
        [
          '2016-07-19T16:00:00.000',
          [
            13226,
            247.933290759161
          ],
          [
            1561007734,
            13334154311.933653
          ],
          [
            1561324457,
            13334705519.806835
          ],
          [
            3122332191,
            26668859831.276608
          ]
        ],
        [
          '2016-07-19T17:00:00.000',
          [
            13045,
            2610.433600636748
          ],
          [
            1559759509,
            917332782.5601863
          ],
          [
            1563358001,
            923008727.5683908
          ],
          [
            3123117510,
            1840335451.456854
          ]
        ],
        [
          '2016-07-19T18:00:00.000',
          [
            13169,
            1145.8075391036082
          ],
          [
            1560709444,
            1363412161.044293
          ],
          [
            1560771121,
            1363292374.3314056
          ],
          [
            3121480565,
            2726704515.544069
          ]
        ],
        [
          '2016-07-19T19:00:00.000',
          [
            13523,
            5245.541027069245
          ],
          [
            1570822707,
            3334520915.127973
          ],
          [
            1575202102,
            3333705612.5942926
          ],
          [
            3146024809,
            6668226373.89002
          ]
        ],
        [
          '2016-07-19T20:00:00.000',
          [
            13892,
            795.1324313177859
          ],
          [
            45197230513,
            21295779026.866978
          ],
          [
            45201947115,
            21389711132.39877
          ],
          [
            90399177628,
            42685228432.96199
          ]
        ],
        [
          '2016-07-19T21:00:00.000',
          [
            13010,
            259.49229275645183
          ],
          [
            1588967859,
            369452393.67007875
          ],
          [
            1589429612,
            370422061.1554313
          ],
          [
            3178397471,
            739855910.1920332
          ]
        ],
        [
          '2016-07-19T22:00:00.000',
          [
            13178,
            467.19945776224245
          ],
          [
            1570015366,
            446748069.7311887
          ],
          [
            1560054023,
            441433058.52457124
          ],
          [
            3130069389,
            888180714.6975052
          ]
        ],
        [
          '2016-07-19T23:00:00.000',
          [
            12978,
            198.82886276058278
          ],
          [
            1559923246,
            437665576.8840824
          ],
          [
            1559952507,
            437655325.6421338
          ],
          [
            3119875753,
            875320902.3800192
          ]
        ],
        [
          '2016-07-20T00:00:00.000',
          [
            13155,
            154.07898407418622
          ],
          [
            2690226191,
            838869233.8769685
          ],
          [
            2690246849,
            838866276.0713476
          ],
          [
            5380473040,
            1677735501.2486265
          ]
        ],
        [
          '2016-07-20T01:00:00.000',
          [
            13021,
            183.72511169316692
          ],
          [
            1560481787,
            447936355.4403052
          ],
          [
            1560514430,
            447933735.1912901
          ],
          [
            3120996217,
            895870090.0420471
          ]
        ],
        [
          '2016-07-20T02:00:00.000',
          [
            13084,
            272.87665101042757
          ],
          [
            1558291146,
            438267269.28427565
          ],
          [
            1558336627,
            438016443.4281497
          ],
          [
            3116627773,
            876283660.3882601
          ]
        ],
        [
          '2016-07-20T03:00:00.000',
          [
            13068,
            239.90188966881163
          ],
          [
            1589010265,
            447481298.490918
          ],
          [
            1589079784,
            447483453.84999126
          ],
          [
            3178090049,
            894964752.2041123
          ]
        ],
        [
          '2016-07-20T04:00:00.000',
          [
            13099,
            412.9366375930654
          ],
          [
            1557056577,
            441412023.2406173
          ],
          [
            1557096916,
            441255492.67794675
          ],
          [
            3114153493,
            882667494.55659
          ]
        ],
        [
          '2016-07-20T05:00:00.000',
          [
            13000,
            185.09524575201817
          ],
          [
            1553593428,
            443880449.24248105
          ],
          [
            1554155899,
            443940407.62112945
          ],
          [
            3107749327,
            887820824.9980083
          ]
        ],
        [
          '2016-07-20T06:00:00.000',
          [
            13323,
            391.7656612483199
          ],
          [
            1569728409,
            401257823.1049958
          ],
          [
            1565706058,
            400721435.8764643
          ],
          [
            3135434467,
            801978343.5217246
          ]
        ],
        [
          '2016-07-20T07:00:00.000',
          [
            13172,
            517.1836392101617
          ],
          [
            1561906266,
            448710328.23638785
          ],
          [
            1564760975,
            449483272.0926818
          ],
          [
            3126667241,
            898193266.3425933
          ]
        ],
        [
          '2016-07-20T08:00:00.000',
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ]
        ],
        [
          '2016-07-20T09:00:00.000',
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ]
        ]
      ],
      y = 1,
      y2 = '0',
      resultDataset = [
        {
          'seriesname': 'Historical Connections',
          'renderas': 'Area',
          'data': [
            {},
            {
              'value': 3003.891850583173
            },
            {
              'value': 429.3254398860302
            },
            {
              'value': 279.86469945314644
            },
            {
              'value': 654.7999058236544
            },
            {
              'value': 923.3870622153348
            },
            {
              'value': 663.1875049084283
            },
            {
              'value': 247.933290759161
            },
            {
              'value': 2610.433600636748
            },
            {
              'value': 1145.8075391036082
            },
            {
              'value': 5245.541027069245
            },
            {
              'value': 795.1324313177859
            },
            {
              'value': 259.49229275645183
            },
            {
              'value': 467.19945776224245
            },
            {
              'value': 198.82886276058278
            },
            {
              'value': 154.07898407418622
            },
            {
              'value': 183.72511169316692
            },
            {
              'value': 272.87665101042757
            },
            {
              'value': 239.90188966881163
            },
            {
              'value': 412.9366375930654
            },
            {
              'value': 185.09524575201817
            },
            {
              'value': 391.7656612483199
            },
            {
              'value': 517.1836392101617
            },
            {},
            {}
          ]
        },
        {
          'seriesname': 'Current Connections',
          'renderas': 'Line',
          'data': [
            {},
            {
              'value': 19210
            },
            {
              'value': 13230
            },
            {
              'value': 14358
            },
            {
              'value': 13115
            },
            {
              'value': 13325
            },
            {
              'value': 13049
            },
            {
              'value': 13226
            },
            {
              'value': 13045
            },
            {
              'value': 13169
            },
            {
              'value': 13523
            },
            {
              'value': 13892
            },
            {
              'value': 13010
            },
            {
              'value': 13178
            },
            {
              'value': 12978
            },
            {
              'value': 13155
            },
            {
              'value': 13021
            },
            {
              'value': 13084
            },
            {
              'value': 13068
            },
            {
              'value': 13099
            },
            {
              'value': 13000
            },
            {
              'value': 13323
            },
            {
              'value': 13172
            },
            {},
            {}
          ]
        }
      ];
    expect(generateChartDataSetForFixedSeries(dataset, chartData, rows, y, y2)).to.deep.equal(resultDataset);
  });

  it('generateDataArray should return data array.', function() {
    const tempObj = {
        'seriesname': 'Current Connections',
        'renderas': 'Line',
        'data': []
      },
      y = 1,
      rows = [
        [
          '2016-07-19T09:00:00.000',
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ]
        ],
        [
          '2016-07-19T10:00:00.000',
          [
            19210,
            3003.891850583173
          ],
          [
            1667327100,
            474249219.20987433
          ],
          [
            1669553834,
            474958637.08589804
          ],
          [
            3336880934,
            949207734.190932
          ]
        ],
        [
          '2016-07-19T11:00:00.000',
          [
            13230,
            429.3254398860302
          ],
          [
            1590651665,
            447342986.8368123
          ],
          [
            1594627856,
            450198029.83426315
          ],
          [
            3185279521,
            897527166.4162296
          ]
        ],
        [
          '2016-07-19T12:00:00.000',
          [
            14358,
            279.86469945314644
          ],
          [
            1613121555,
            449185966.02447855
          ],
          [
            1610387558,
            450219931.4509283
          ],
          [
            3223509113,
            899405471.3322483
          ]
        ],
        [
          '2016-07-19T13:00:00.000',
          [
            13115,
            654.7999058236544
          ],
          [
            1589996232,
            949734989.4224131
          ],
          [
            1590176073,
            950264041.8727775
          ],
          [
            3180172305,
            1899998795.7569008
          ]
        ],
        [
          '2016-07-19T14:00:00.000',
          [
            13325,
            923.3870622153348
          ],
          [
            1569147264,
            5140830365.943753
          ],
          [
            1574366488,
            5139672836.83124
          ],
          [
            3143513752,
            10280502966.14952
          ]
        ],
        [
          '2016-07-19T15:00:00.000',
          [
            13049,
            663.1875049084283
          ],
          [
            1567086046,
            1014131811.6353638
          ],
          [
            1568491480,
            1014759116.4323789
          ],
          [
            3135577526,
            2028890704.1104476
          ]
        ],
        [
          '2016-07-19T16:00:00.000',
          [
            13226,
            247.933290759161
          ],
          [
            1561007734,
            13334154311.933653
          ],
          [
            1561324457,
            13334705519.806835
          ],
          [
            3122332191,
            26668859831.276608
          ]
        ],
        [
          '2016-07-19T17:00:00.000',
          [
            13045,
            2610.433600636748
          ],
          [
            1559759509,
            917332782.5601863
          ],
          [
            1563358001,
            923008727.5683908
          ],
          [
            3123117510,
            1840335451.456854
          ]
        ],
        [
          '2016-07-19T18:00:00.000',
          [
            13169,
            1145.8075391036082
          ],
          [
            1560709444,
            1363412161.044293
          ],
          [
            1560771121,
            1363292374.3314056
          ],
          [
            3121480565,
            2726704515.544069
          ]
        ],
        [
          '2016-07-19T19:00:00.000',
          [
            13523,
            5245.541027069245
          ],
          [
            1570822707,
            3334520915.127973
          ],
          [
            1575202102,
            3333705612.5942926
          ],
          [
            3146024809,
            6668226373.89002
          ]
        ],
        [
          '2016-07-19T20:00:00.000',
          [
            13892,
            795.1324313177859
          ],
          [
            45197230513,
            21295779026.866978
          ],
          [
            45201947115,
            21389711132.39877
          ],
          [
            90399177628,
            42685228432.96199
          ]
        ],
        [
          '2016-07-19T21:00:00.000',
          [
            13010,
            259.49229275645183
          ],
          [
            1588967859,
            369452393.67007875
          ],
          [
            1589429612,
            370422061.1554313
          ],
          [
            3178397471,
            739855910.1920332
          ]
        ],
        [
          '2016-07-19T22:00:00.000',
          [
            13178,
            467.19945776224245
          ],
          [
            1570015366,
            446748069.7311887
          ],
          [
            1560054023,
            441433058.52457124
          ],
          [
            3130069389,
            888180714.6975052
          ]
        ],
        [
          '2016-07-19T23:00:00.000',
          [
            12978,
            198.82886276058278
          ],
          [
            1559923246,
            437665576.8840824
          ],
          [
            1559952507,
            437655325.6421338
          ],
          [
            3119875753,
            875320902.3800192
          ]
        ],
        [
          '2016-07-20T00:00:00.000',
          [
            13155,
            154.07898407418622
          ],
          [
            2690226191,
            838869233.8769685
          ],
          [
            2690246849,
            838866276.0713476
          ],
          [
            5380473040,
            1677735501.2486265
          ]
        ],
        [
          '2016-07-20T01:00:00.000',
          [
            13021,
            183.72511169316692
          ],
          [
            1560481787,
            447936355.4403052
          ],
          [
            1560514430,
            447933735.1912901
          ],
          [
            3120996217,
            895870090.0420471
          ]
        ],
        [
          '2016-07-20T02:00:00.000',
          [
            13084,
            272.87665101042757
          ],
          [
            1558291146,
            438267269.28427565
          ],
          [
            1558336627,
            438016443.4281497
          ],
          [
            3116627773,
            876283660.3882601
          ]
        ],
        [
          '2016-07-20T03:00:00.000',
          [
            13068,
            239.90188966881163
          ],
          [
            1589010265,
            447481298.490918
          ],
          [
            1589079784,
            447483453.84999126
          ],
          [
            3178090049,
            894964752.2041123
          ]
        ],
        [
          '2016-07-20T04:00:00.000',
          [
            13099,
            412.9366375930654
          ],
          [
            1557056577,
            441412023.2406173
          ],
          [
            1557096916,
            441255492.67794675
          ],
          [
            3114153493,
            882667494.55659
          ]
        ],
        [
          '2016-07-20T05:00:00.000',
          [
            13000,
            185.09524575201817
          ],
          [
            1553593428,
            443880449.24248105
          ],
          [
            1554155899,
            443940407.62112945
          ],
          [
            3107749327,
            887820824.9980083
          ]
        ],
        [
          '2016-07-20T06:00:00.000',
          [
            13323,
            391.7656612483199
          ],
          [
            1569728409,
            401257823.1049958
          ],
          [
            1565706058,
            400721435.8764643
          ],
          [
            3135434467,
            801978343.5217246
          ]
        ],
        [
          '2016-07-20T07:00:00.000',
          [
            13172,
            517.1836392101617
          ],
          [
            1561906266,
            448710328.23638785
          ],
          [
            1564760975,
            449483272.0926818
          ],
          [
            3126667241,
            898193266.3425933
          ]
        ],
        [
          '2016-07-20T08:00:00.000',
          [
            13077,
            481.93948444453787
          ],
          [
            1559493184,
            352625526.9387964
          ],
          [
            1559532293,
            352613897.95730066
          ],
          [
            3119025477,
            705239424.8625658
          ]
        ],
        [
          '2016-07-20T09:00:00.000',
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ],
          [
            'NaN',
            'NaN'
          ]
        ]
      ],
      y2 = 0,
      tempObjData = [
        {},
        {
          'value': 19210
        },
        {
          'value': 13230
        },
        {
          'value': 14358
        },
        {
          'value': 13115
        },
        {
          'value': 13325
        },
        {
          'value': 13049
        },
        {
          'value': 13226
        },
        {
          'value': 13045
        },
        {
          'value': 13169
        },
        {
          'value': 13523
        },
        {
          'value': 13892
        },
        {
          'value': 13010
        },
        {
          'value': 13178
        },
        {
          'value': 12978
        },
        {
          'value': 13155
        },
        {
          'value': 13021
        },
        {
          'value': 13084
        },
        {
          'value': 13068
        },
        {
          'value': 13099
        },
        {
          'value': 13000
        },
        {
          'value': 13323
        },
        {
          'value': 13172
        },
        {
          'value': 13077
        },
        {}
      ];
    expect(generateDataArray(tempObj, y, rows, y2, 'fixed')).to.deep.equal(tempObjData);
  });
});
